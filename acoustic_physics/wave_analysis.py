import matplotlib.pyplot as plt
import numpy as np
import wave
import sys
from scipy.io.wavfile import read
import math
from scipy import optimize

#fs, data = wavfile.read('test.wav')
#200000

'''
a = wave.open('test.wav', 'r')

signal = a.readframes(-1)
signal = np.fromstring(signal, 'Int16')
fs = a.getframerate()
Time = np.linspace(0, len(signal)/fs, num=len(signal))

plt.figure(1)
plt.title("Graph 1")
plt.plot(Time, signal)
plt.show()
'''

def read_file(name, spacing, num_x, colour, factor):
    input_data = read(name)
    audio = input_data[1]

    processed_data = []
    max_value = []
    for k in range(0, len(audio)):
        if (factor == "+"):
            if (audio[k][0] >= 0):
                max_value.append(audio[k][0])
                processed_data.append(audio[k])
        if (factor == "-"):
            if (audio[k][0] <= 0):
                max_value.append(audio[k][0])
                processed_data.append(audio[k])



    if (factor == "+"):
        max_arg = num_x+max_value.index(max(max_value))
    if (factor == "-"):
        max_arg = num_x+max_value.index(min(max_value))
    sampling_size = math.floor(num_x/spacing)
    #The value of 2000 spacing was determined through visual inspection of the data

    peak_data = []

    for i in range (1, int(sampling_size)):
        if (factor == "+"):
            processed_max = max_value[max_value.index(max(max_value)):max_arg]
            peak = max(processed_max[spacing*(i-1):spacing*i])
        if (factor == "-"):
            processed_max = max_value[max_value.index(min(max_value)):max_arg]
            peak = min(processed_max[spacing*(i-1):spacing*i])
        position = max_value.index(peak)
        peak_data.append(processed_data[position])

    scatter = []
    for g in peak_data:
        scatter.append(g[0])

    return scatter

    #plt.plot(processed_data[max_value.index(max(max_value)):max_arg], zorder=0)
    #plt.plot(np.arange(0, (sampling_size-1)*spacing, spacing), peak_data, zorder=5, c=colour)

    #plt.scatter(np.arange(0, (sampling_size-1)*spacing, spacing), scatter)

    #return scatter

colour_array = ['red', 'black', 'purple', 'green', 'silver']
other = 'brass'
final_colour = ['brass', 'red', 'black', 'purple', 'green', 'silver']
average = []
holder = []



#read_file('./Physics/red1.wav', 1000, 100000, 'r')
#read_file('./Physics/red1.wav', 2000, 100000, 'b')
#read_file('./Physics/red1.wav', 500, 100000, 'g')

def  ops():
    for b in range (1, 6):
        holder.append(read_file('./Physics/'+other+str(b)+'.wav', 1000, 100000, 'r', "+"))
        #print(len(read_file('./Physics/'+other+str(b)+'.wav', 1000, 100000, 'r')))

    final_holder = []
    for r in range (0, len(holder[0])):
        sum = 0
        for o in range(0, 5):
            sum = sum + holder[o][r]
        final_holder.append(sum/5)
    average.append(final_holder)

    holder = []
    for t in colour_array:
        h = []
        for b in range (1, 7):
            h.append(read_file('./Physics/'+t+str(b)+'.wav', 1000, 100000, 'r', "+"))
        holder.append(h)

    for v in range (0, len(holder)):
        final_holder = []
        for r in range (0, len(holder[v][0])):
            sum = 0
            for o in range(0, 5):
                sum = sum + holder[v][o][r]
            final_holder.append(sum/6)
        average.append(final_holder)

    return average



average = [[9508.6, 5658.4, 5214.6, 4067.4, 3061.2, 2977.8, 2918.6, 2691.2, 2776.0, 2137.6, 2048.2, 1701.6, 1435.2, 1419.4, 1028.6, 969.8, 828.6, 596.4, 436.8, 359.6, 346.0, 347.0, 407.4, 394.6, 341.4, 283.0, 224.8, 282.2, 243.4, 286.4, 266.4, 200.2, 177.8, 186.4, 223.8, 229.2, 244.6, 205.0, 204.2, 188.6, 194.0, 178.8, 222.0, 175.6, 212.0, 185.8, 207.6, 166.0, 160.8, 181.6, 189.2, 196.0, 181.4, 153.0, 129.0, 152.2, 188.2, 170.0, 168.4, 183.4, 194.4, 190.8, 203.4, 237.0, 204.0, 237.8, 253.0, 251.4, 191.8, 231.8, 227.0, 222.8, 259.6, 216.6, 176.6, 209.4, 183.4, 209.2, 231.0, 255.2, 279.4, 268.6, 190.8, 218.0, 211.8, 199.2, 253.2, 202.6, 207.2, 241.0, 185.6, 168.6, 169.8, 187.8, 209.2, 177.4, 228.4, 190.2, 173.0], [16788.833333333332, 8497.333333333334, 5442.333333333333, 2694.5, 1591.6666666666667, 1486.8333333333333, 1333.3333333333333, 1282.3333333333333, 1281.3333333333333, 954.1666666666666, 1101.6666666666667, 892.3333333333334, 769.3333333333334, 514.8333333333334, 584.0, 533.3333333333334, 521.6666666666666, 463.6666666666667, 446.6666666666667, 801.5, 738.6666666666666, 515.5, 490.5, 450.6666666666667, 363.0, 376.0, 429.5, 397.1666666666667, 344.5, 362.8333333333333, 409.6666666666667, 428.1666666666667, 378.8333333333333, 352.1666666666667, 375.3333333333333, 373.5, 308.0, 377.0, 376.5, 274.1666666666667, 301.0, 285.0, 412.1666666666667, 391.1666666666667, 368.1666666666667, 359.1666666666667, 345.8333333333333, 244.33333333333334, 315.3333333333333, 272.0, 262.5, 267.1666666666667, 229.16666666666666, 250.66666666666666, 353.3333333333333, 262.6666666666667, 235.33333333333334, 234.83333333333334, 228.5, 208.5, 230.5, 281.8333333333333, 241.33333333333334, 257.8333333333333, 259.3333333333333, 290.6666666666667, 330.3333333333333, 339.8333333333333, 281.3333333333333, 224.83333333333334, 213.83333333333334, 248.16666666666666, 239.33333333333334, 279.1666666666667, 261.6666666666667, 218.5, 173.0, 278.0, 358.3333333333333, 269.6666666666667, 332.5, 211.33333333333334, 241.83333333333334, 236.5, 235.0, 239.5, 183.16666666666666, 238.0, 212.33333333333334, 219.66666666666666, 224.16666666666666, 199.83333333333334, 212.5, 197.66666666666666, 175.66666666666666, 249.33333333333334, 217.66666666666666, 208.0, 183.66666666666666], [17083.333333333332, 5804.5, 7363.833333333333, 7127.5, 4784.5, 3038.5, 2550.5, 2002.8333333333333, 1784.3333333333333, 1829.5, 1454.0, 1227.8333333333333, 1114.3333333333333, 1000.0, 888.6666666666666, 854.1666666666666, 762.5, 731.6666666666666, 643.0, 644.0, 609.6666666666666, 647.1666666666666, 531.1666666666666, 531.1666666666666, 452.6666666666667, 457.3333333333333, 482.8333333333333, 413.5, 377.5, 415.1666666666667, 402.6666666666667, 395.6666666666667, 403.3333333333333, 353.3333333333333, 366.0, 366.3333333333333, 407.3333333333333, 331.8333333333333, 305.8333333333333, 320.8333333333333, 250.66666666666666, 288.1666666666667, 303.6666666666667, 249.83333333333334, 309.3333333333333, 282.3333333333333, 231.0, 259.6666666666667, 227.0, 221.66666666666666, 220.0, 252.5, 268.1666666666667, 253.83333333333334, 185.83333333333334, 262.1666666666667, 240.16666666666666, 268.5, 268.0, 220.66666666666666, 237.33333333333334, 201.16666666666666, 269.1666666666667, 242.66666666666666, 244.66666666666666, 242.33333333333334, 226.66666666666666, 299.0, 240.0, 223.66666666666666, 254.0, 239.16666666666666, 225.66666666666666, 239.33333333333334, 218.16666666666666, 216.66666666666666, 253.33333333333334, 223.33333333333334, 204.33333333333334, 236.16666666666666, 238.5, 247.16666666666666, 224.33333333333334, 239.16666666666666, 244.83333333333334, 259.6666666666667, 241.33333333333334, 299.6666666666667, 225.16666666666666, 259.5, 263.0, 238.5, 235.66666666666666, 217.83333333333334, 246.16666666666666, 230.0, 202.83333333333334, 237.0, 228.83333333333334], [23885.5, 8563.833333333334, 6189.833333333333, 4566.5, 3138.6666666666665, 2817.1666666666665, 2376.6666666666665, 2061.6666666666665, 1800.5, 1326.0, 1355.3333333333333, 1145.0, 1082.3333333333333, 846.6666666666666, 949.8333333333334, 745.6666666666666, 676.3333333333334, 605.3333333333334, 512.1666666666666, 582.3333333333334, 424.8333333333333, 470.5, 355.3333333333333, 389.0, 394.1666666666667, 403.0, 372.3333333333333, 323.6666666666667, 380.0, 324.5, 274.8333333333333, 321.5, 235.33333333333334, 273.1666666666667, 258.8333333333333, 219.5, 240.83333333333334, 215.66666666666666, 253.0, 296.1666666666667, 193.83333333333334, 259.6666666666667, 224.0, 237.83333333333334, 188.0, 244.0, 207.33333333333334, 210.5, 245.16666666666666, 223.83333333333334, 268.5, 254.66666666666666, 249.83333333333334, 228.33333333333334, 179.16666666666666, 245.83333333333334, 275.5, 245.0, 181.33333333333334, 181.33333333333334, 150.33333333333334, 190.5, 204.83333333333334, 163.66666666666666, 219.16666666666666, 236.83333333333334, 199.83333333333334, 225.66666666666666, 263.5, 251.5, 235.33333333333334, 192.16666666666666, 224.5, 227.83333333333334, 196.33333333333334, 222.33333333333334, 211.66666666666666, 216.16666666666666, 195.33333333333334, 186.16666666666666, 243.66666666666666, 176.83333333333334, 203.5, 199.33333333333334, 194.5, 199.16666666666666, 188.66666666666666, 162.16666666666666, 198.5, 188.33333333333334, 187.16666666666666, 190.83333333333334, 215.66666666666666, 212.66666666666666, 186.5, 197.5, 206.5, 204.66666666666666, 189.0], [25450.333333333332, 7290.5, 4932.666666666667, 4325.833333333333, 2291.3333333333335, 2776.6666666666665, 1588.8333333333333, 1853.1666666666667, 1458.1666666666667, 1220.1666666666667, 950.1666666666666, 975.3333333333334, 764.3333333333334, 631.3333333333334, 616.1666666666666, 542.1666666666666, 523.8333333333334, 507.8333333333333, 459.0, 465.5, 418.1666666666667, 441.1666666666667, 397.6666666666667, 378.0, 338.1666666666667, 341.8333333333333, 350.8333333333333, 312.3333333333333, 341.8333333333333, 344.8333333333333, 376.0, 249.33333333333334, 345.1666666666667, 331.6666666666667, 270.5, 304.0, 282.3333333333333, 297.5, 271.8333333333333, 243.0, 260.6666666666667, 238.66666666666666, 245.5, 204.33333333333334, 302.3333333333333, 245.83333333333334, 264.6666666666667, 251.0, 250.66666666666666, 249.5, 268.8333333333333, 279.6666666666667, 235.33333333333334, 243.33333333333334, 262.8333333333333, 230.33333333333334, 265.5, 220.5, 212.66666666666666, 190.66666666666666, 208.16666666666666, 205.33333333333334, 206.83333333333334, 210.16666666666666, 199.33333333333334, 201.83333333333334, 216.5, 201.0, 194.83333333333334, 212.5, 219.66666666666666, 201.16666666666666, 213.83333333333334, 173.66666666666666, 205.5, 176.5, 202.66666666666666, 210.5, 224.5, 220.33333333333334, 198.33333333333334, 183.83333333333334, 217.16666666666666, 226.83333333333334, 222.16666666666666, 212.16666666666666, 243.66666666666666, 243.83333333333334, 247.66666666666666, 199.0, 228.0, 219.33333333333334, 222.33333333333334, 223.83333333333334, 224.33333333333334, 240.16666666666666, 258.0, 179.66666666666666, 226.33333333333334], [23404.833333333332, 6955.833333333333, 4315.833333333333, 3524.8333333333335, 2377.8333333333335, 2302.5, 2418.8333333333335, 2328.3333333333335, 1848.5, 1621.5, 1311.8333333333333, 1364.8333333333333, 1039.3333333333333, 884.1666666666666, 902.8333333333334, 776.6666666666666, 727.3333333333334, 726.3333333333334, 524.3333333333334, 433.8333333333333, 388.5, 386.5, 370.0, 349.0, 286.6666666666667, 268.5, 384.6666666666667, 401.1666666666667, 306.8333333333333, 258.0, 215.5, 202.33333333333334, 186.5, 222.5, 236.0, 185.66666666666666, 198.0, 173.5, 176.83333333333334, 180.16666666666666, 195.16666666666666, 383.6666666666667, 293.6666666666667, 259.6666666666667, 229.16666666666666, 212.33333333333334, 177.83333333333334, 218.83333333333334, 202.66666666666666, 187.33333333333334, 171.0, 170.0, 175.66666666666666, 198.33333333333334, 183.66666666666666, 296.6666666666667, 231.0, 220.16666666666666, 226.0, 314.3333333333333, 366.6666666666667, 220.16666666666666, 199.33333333333334, 197.0, 165.33333333333334, 172.16666666666666, 167.5, 201.5, 179.33333333333334, 188.0, 179.83333333333334, 225.66666666666666, 233.33333333333334, 160.66666666666666, 199.0, 142.83333333333334, 154.66666666666666, 137.66666666666666, 162.0, 194.5, 325.5, 203.5, 228.66666666666666, 177.83333333333334, 149.0, 174.66666666666666, 173.16666666666666, 186.5, 163.5, 194.66666666666666, 158.66666666666666, 180.83333333333334, 358.5, 424.3333333333333, 287.3333333333333, 220.83333333333334, 157.5, 204.83333333333334, 223.66666666666666]]

average2 = [[-9312.2, -5376.0, -4739.2, -3906.0, -3233.4, -3293.8, -2985.6, -2826.4, -2464.6, -1981.4, -1936.0, -1828.0, -1400.6, -1196.8, -1129.0, -857.4, -832.6, -659.8, -406.4, -399.2, -313.6, -355.8, -368.0, -355.6, -296.6, -277.4, -234.0, -234.2, -251.8, -212.0, -227.0, -212.0, -169.2, -248.6, -226.4, -238.8, -227.0, -184.6, -200.8, -170.2, -184.4, -185.2, -210.6, -203.2, -205.2, -178.6, -169.0, -174.6, -169.2, -189.4, -162.0, -192.8, -192.2, -151.2, -155.2, -161.0, -223.0, -164.4, -178.6, -139.4, -188.0, -208.0, -225.2, -252.8, -235.6, -253.4, -252.6, -198.2, -227.4, -210.8, -232.2, -211.2, -253.0, -212.4, -154.6, -204.6, -244.0, -242.0, -224.6, -272.6, -253.0, -239.2, -203.2, -206.8, -225.2, -219.0, -212.8, -204.6, -218.6, -200.0, -153.8, -175.4, -161.6, -241.8, -223.6, -227.2, -194.2, -196.6, -172.6], [-14944.5, -7794.166666666667, -4208.0, -2554.1666666666665, -1728.8333333333333, -1469.3333333333333, -1401.1666666666667, -1166.0, -1165.0, -1140.8333333333333, -1078.8333333333333, -927.0, -868.8333333333334, -558.8333333333334, -612.6666666666666, -529.1666666666666, -485.8333333333333, -517.6666666666666, -415.6666666666667, -689.6666666666666, -845.5, -577.1666666666666, -489.8333333333333, -504.6666666666667, -354.1666666666667, -363.3333333333333, -311.0, -362.6666666666667, -376.8333333333333, -331.6666666666667, -426.5, -390.1666666666667, -420.6666666666667, -347.1666666666667, -322.0, -355.1666666666667, -315.0, -287.8333333333333, -312.8333333333333, -313.8333333333333, -276.8333333333333, -454.6666666666667, -408.0, -304.0, -355.1666666666667, -341.5, -268.5, -357.1666666666667, -254.83333333333334, -312.8333333333333, -267.1666666666667, -274.5, -302.0, -338.3333333333333, -264.5, -239.5, -259.5, -266.1666666666667, -262.6666666666667, -258.8333333333333, -227.5, -246.33333333333334, -251.83333333333334, -193.5, -293.1666666666667, -289.1666666666667, -333.6666666666667, -273.0, -231.33333333333334, -250.0, -225.66666666666666, -293.8333333333333, -244.0, -209.0, -234.33333333333334, -279.8333333333333, -390.1666666666667, -332.8333333333333, -297.3333333333333, -260.3333333333333, -225.66666666666666, -205.33333333333334, -253.83333333333334, -281.0, -210.16666666666666, -177.0, -183.66666666666666, -238.66666666666666, -230.33333333333334, -225.66666666666666, -219.16666666666666, -235.66666666666666, -216.0, -215.83333333333334, -171.33333333333334, -201.33333333333334, -218.66666666666666, -244.33333333333334, -225.83333333333334], [-16136.166666666666, -5986.166666666667, -6599.5, -7593.166666666667, -5005.333333333333, -2961.6666666666665, -2171.5, -1927.0, -1874.3333333333333, -1863.5, -1617.8333333333333, -1391.0, -1129.3333333333333, -926.1666666666666, -984.6666666666666, -824.8333333333334, -725.8333333333334, -808.0, -645.3333333333334, -707.6666666666666, -603.6666666666666, -592.6666666666666, -544.1666666666666, -491.3333333333333, -472.6666666666667, -544.0, -453.6666666666667, -429.0, -454.8333333333333, -452.5, -408.8333333333333, -367.3333333333333, -383.1666666666667, -428.6666666666667, -363.0, -357.0, -384.3333333333333, -365.6666666666667, -313.5, -311.6666666666667, -281.0, -278.6666666666667, -300.0, -260.6666666666667, -262.3333333333333, -260.6666666666667, -278.0, -264.8333333333333, -312.6666666666667, -245.83333333333334, -208.83333333333334, -256.3333333333333, -267.5, -251.0, -218.16666666666666, -231.16666666666666, -235.33333333333334, -309.1666666666667, -241.33333333333334, -228.16666666666666, -214.5, -184.5, -263.1666666666667, -224.83333333333334, -218.33333333333334, -246.5, -245.16666666666666, -233.5, -207.33333333333334, -289.0, -253.0, -241.0, -241.0, -247.33333333333334, -260.6666666666667, -209.0, -255.66666666666666, -233.16666666666666, -229.66666666666666, -193.0, -247.66666666666666, -203.33333333333334, -246.33333333333334, -220.0, -208.5, -251.66666666666666, -257.0, -279.5, -258.1666666666667, -311.5, -221.33333333333334, -214.66666666666666, -251.83333333333334, -228.33333333333334, -250.83333333333334, -224.83333333333334, -231.5, -220.5, -213.16666666666666], [-24649.833333333332, -7880.666666666667, -5462.666666666667, -3937.1666666666665, -3238.6666666666665, -2553.5, -2461.0, -1842.3333333333333, -1705.5, -1301.5, -1480.6666666666667, -1069.6666666666667, -942.0, -893.8333333333334, -866.6666666666666, -793.1666666666666, -627.8333333333334, -650.1666666666666, -490.6666666666667, -516.8333333333334, -467.0, -452.8333333333333, -401.6666666666667, -379.8333333333333, -383.0, -391.8333333333333, -402.1666666666667, -319.0, -336.1666666666667, -355.6666666666667, -313.8333333333333, -269.3333333333333, -286.5, -294.0, -260.3333333333333, -222.5, -233.16666666666666, -225.66666666666666, -310.8333333333333, -249.83333333333334, -195.66666666666666, -255.83333333333334, -236.33333333333334, -216.0, -259.5, -238.16666666666666, -226.33333333333334, -190.66666666666666, -224.0, -311.3333333333333, -276.0, -235.83333333333334, -252.66666666666666, -177.5, -215.5, -212.83333333333334, -202.16666666666666, -249.66666666666666, -201.66666666666666, -192.16666666666666, -185.33333333333334, -180.66666666666666, -178.16666666666666, -202.66666666666666, -211.0, -223.5, -221.5, -210.83333333333334, -240.5, -261.8333333333333, -268.3333333333333, -230.16666666666666, -183.83333333333334, -218.16666666666666, -220.33333333333334, -190.16666666666666, -232.66666666666666, -195.5, -185.66666666666666, -177.5, -225.5, -206.5, -188.0, -234.66666666666666, -192.16666666666666, -176.33333333333334, -209.83333333333334, -186.83333333333334, -184.16666666666666, -170.66666666666666, -182.33333333333334, -160.16666666666666, -225.33333333333334, -155.0, -169.83333333333334, -224.0, -183.5, -217.0, -188.0], [-22746.833333333332, -8069.833333333333, -4093.6666666666665, -4008.5, -1970.3333333333333, -2410.6666666666665, -1672.8333333333333, -1794.1666666666667, -1382.5, -1206.0, -979.6666666666666, -973.6666666666666, -743.5, -716.0, -615.1666666666666, -504.6666666666667, -567.8333333333334, -469.0, -432.3333333333333, -419.6666666666667, -385.3333333333333, -389.5, -350.8333333333333, -351.3333333333333, -351.3333333333333, -310.6666666666667, -369.1666666666667, -335.0, -375.0, -372.0, -341.0, -307.5, -333.1666666666667, -316.6666666666667, -269.1666666666667, -241.66666666666666, -296.8333333333333, -244.66666666666666, -271.3333333333333, -252.5, -208.83333333333334, -236.33333333333334, -259.8333333333333, -273.1666666666667, -278.8333333333333, -250.16666666666666, -233.5, -227.33333333333334, -249.66666666666666, -225.83333333333334, -260.6666666666667, -240.66666666666666, -230.0, -259.6666666666667, -223.0, -238.5, -233.0, -215.33333333333334, -207.66666666666666, -215.16666666666666, -201.5, -196.5, -217.66666666666666, -221.33333333333334, -202.83333333333334, -192.5, -185.33333333333334, -173.83333333333334, -210.0, -197.16666666666666, -213.0, -216.16666666666666, -184.83333333333334, -158.16666666666666, -205.83333333333334, -192.16666666666666, -181.0, -190.5, -238.0, -213.66666666666666, -219.0, -268.1666666666667, -205.16666666666666, -221.83333333333334, -215.0, -211.16666666666666, -207.16666666666666, -262.3333333333333, -214.0, -223.16666666666666, -228.0, -197.16666666666666, -222.0, -239.66666666666666, -232.83333333333334, -225.33333333333334, -216.33333333333334, -180.83333333333334, -219.66666666666666], [-21530.0, -6925.166666666667, -4262.166666666667, -2909.3333333333335, -2370.3333333333335, -2055.8333333333335, -2356.6666666666665, -1970.1666666666667, -1871.8333333333333, -1644.6666666666667, -1123.8333333333333, -1173.3333333333333, -1073.5, -842.3333333333334, -886.0, -865.3333333333334, -712.1666666666666, -712.5, -545.6666666666666, -404.1666666666667, -356.5, -351.1666666666667, -381.3333333333333, -330.3333333333333, -296.1666666666667, -383.5, -435.6666666666667, -322.5, -266.6666666666667, -235.33333333333334, -252.83333333333334, -223.83333333333334, -208.16666666666666, -232.83333333333334, -220.16666666666666, -173.16666666666666, -162.33333333333334, -178.83333333333334, -191.66666666666666, -269.1666666666667, -395.3333333333333, -327.3333333333333, -237.33333333333334, -197.0, -189.33333333333334, -172.83333333333334, -184.66666666666666, -157.5, -160.66666666666666, -187.16666666666666, -195.83333333333334, -166.33333333333334, -170.83333333333334, -242.33333333333334, -328.3333333333333, -199.83333333333334, -234.66666666666666, -205.83333333333334, -201.5, -191.83333333333334, -242.83333333333334, -337.1666666666667, -164.83333333333334, -198.33333333333334, -180.16666666666666, -188.33333333333334, -191.66666666666666, -191.83333333333334, -186.16666666666666, -162.0, -173.5, -170.16666666666666, -201.33333333333334, -211.16666666666666, -169.16666666666666, -169.66666666666666, -171.16666666666666, -184.0, -294.6666666666667, -161.83333333333334, -214.16666666666666, -175.33333333333334, -182.5, -190.83333333333334, -189.0, -167.33333333333334, -165.0, -192.33333333333334, -158.16666666666666, -254.16666666666666, -269.5, -176.33333333333334, -188.33333333333334, -170.16666666666666, -295.8333333333333, -401.8333333333333, -233.16666666666666, -197.5, -174.83333333333334]]

plt.plot(np.arange(0, 99000, 1000), average[0])

def input_function(x, a, b):
    return 500*np.exp(-1 * a * (x + b))


for h in range(0, len(average)):
    params, params_covariance = optimize.curve_fit(input_function, np.arange(0, 99000, 1000), average[h])
    print(final_colour[h]+": "+str(params))

def input_function2(x, a, b):
    return -500*np.exp(-1 * a * (x + b))

for h in range(0, len(average2)):
    params, params_covariance = optimize.curve_fit(input_function2, np.arange(0, 99000, 1000), average2[h])
    print(final_colour[h]+": "+str(params))

'''
plt.plot(np.arange(0, 99000, 1000), input_function(np.arange(0, 99000, 1000), params[0], params[1]),
         label='Fitted function', zorder=5)
'''

#plt.ylabel("Amplitude")
#plt.xlabel("Time")
##plt.title("Sample")
#plt.show()


'''
brass = (read_file('./Physics/brass1.wav', 100, 100000, 'r', "+")+read_file('./Physics/brass2.wav', 100, 100000, 'r', "+")+read_file('./Physics/brass3.wav', 100, 100000, 'r', "+")+read_file('./Physics/brass4.wav', 100, 100000, 'r', "+")+read_file('./Physics/brass5.wav', 100, 100000, 'r', "+"))/5
red = (read_file('./Physics/red1.wav', 100, 100000, 'r', "+")+read_file('./Physics/red2.wav', 100, 100000, 'r', "+")+read_file('./Physics/red3.wav', 100, 100000, 'r', "+")+read_file('./Physics/red4.wav', 100, 100000, 'r', "+")+read_file('./Physics/red5.wav', 100, 100000, 'r', "+")+read_file('./Physics/red6.wav', 100, 100000, 'r', "+"))/6
black = (read_file('./Physics/black1.wav', 100, 100000, 'r', "+")+read_file('./Physics/black2.wav', 100, 100000, 'r', "+")+read_file('./Physics/black3.wav', 100, 100000, 'r', "+")+read_file('./Physics/black4.wav', 100, 100000, 'r', "+")+read_file('./Physics/black5.wav', 100, 100000, 'r', "+")+read_file('./Physics/black6.wav', 100, 100000, 'r', "+"))/6
green = (read_file('./Physics/green1.wav', 100, 100000, 'r', "+")+read_file('./Physics/green2.wav', 100, 100000, 'r', "+")+read_file('./Physics/green3.wav', 100, 100000, 'r', "+")+read_file('./Physics/green4.wav', 100, 100000, 'r', "+")+read_file('./Physics/green5.wav', 100, 100000, 'r', "+")+read_file('./Physics/green6.wav', 100, 100000, 'r', "+"))/6
purple = (read_file('./Physics/purple1.wav', 100, 100000, 'r', "+")+read_file('./Physics/purple2.wav', 100, 100000, 'r', "+")+read_file('./Physics/purple3.wav', 100, 100000, 'r', "+")+read_file('./Physics/purple4.wav', 100, 100000, 'r', "+")+read_file('./Physics/purple5.wav', 100, 100000, 'r', "+")+read_file('./Physics/purple6.wav', 100, 100000, 'r', "+"))/6
silver = (read_file('./Physics/silver1.wav', 100, 100000, 'r', "+")+read_file('./Physics/silver2.wav', 100, 100000, 'r', "+")+read_file('./Physics/silver3.wav', 100, 100000, 'r', "+")+read_file('./Physics/silver4.wav', 100, 100000, 'r', "+")+read_file('./Physics/silver5.wav', 100, 100000, 'r', "+")+read_file('./Physics/silver6.wav', 100, 100000, 'r', "+"))/6
'''

decay = []
for x in average:
    for m in x:
        if (m < 0.05*x[0]):
            decay.append(x.index(m))
            break;

print(decay)
